I"•<p><a href="https://github.com/Tclack88/practice-scheduler">See the source code on GitHub</a></p>

<p>One of the first things I wanted to do when I started programming was to make a ‚Äúsmart intersection‚Äù simulation, that is an intersection that allows cars to pass through without needing to stop at lights. I wasn‚Äôt sure when I‚Äôd have the capability to program such a thing, but all it took was a job post requesting a code sample to start the ball rolling.</p>

<p>non-standard dependencies:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	pygame		-       pip install pygame
</code></pre></div></div>

<h2 id="inspiration">Inspiration</h2>

<p>I hate driving. There‚Äôs nothing more frustrating then spending your life commuting from one place to another, especially if that place is somewhere you don‚Äôt want to be. It‚Äôs fun at first when you‚Äôre 16 and suddenly gain this independence you never had. But when that feeling wanes, all you‚Äôre left with is a time sink during which you have to watch cars and lines in the road. A boring task that if performed incorrectly can leave you seriously injured or worse.</p>

<p>I‚Äôm sure we‚Äôve all heard the statistic that the average American spends about 40 hours per year stuck in traffic, which is a lot, but that‚Äôs just traffic. If you consider how long you‚Äôre driving. Just think about your average day. Do you spend 1 hour driving? Well that‚Äôs 1/24 of your life! (Or rather,the 50 years or so that you‚Äôre actively working and need to commute). I hate this time sink so much that I try to fill it with podcasts or phone conversations, something that will return that time back to me. The thing that makes driving for me even worse (apart from traffic) is coming to a sudden stop.</p>

<p>It‚Äôs that unbearable feeling I get when I‚Äôm crusing down a highway at 45 mph only to see a yellow light bring me and my nearby convoy to a hault. All so this one dinky Subaru can make a left turn. It hurts because of all the gas we all squandered away to friction and heat. The gas that‚Äôs wasted while we all idle, then more as we accelerate back to speed. I try my best to predict such things, coast when I approach a light from afar (to the annoyance of the vehicle behind me), I even slow my approach to lights when I think I‚Äôll cause a group of cross traffic to stop. The traffic light was invented in 1912. There has to be a better way.</p>

<h2 id="the-slot-system">The slot system</h2>

<p>The way I envisioned this was fairly straightforward. When a car crosses a critical threshold from an intersection. It makes a request to pass through during a specific time interval. That request is based on the approaching velocity and the distance from the intersection. A controller listens to this request and checks it against its current reservations. If there are no conflicts, the car continues along at the velocity it‚Äôs going at (I‚Äôm only dealing with straight-through traffic, no turning yet. Sorry to spoil it). In the even that there is a conflict, the controller checks for an opening with that requested time difference, otherwise it‚Äôs slotted at the end. The car is then given specific speed instructions to follow, speeding up or slowing down to make the slot. That‚Äôs it.</p>

<table>
  <tbody>
    <tr>
      <td><img src="/blog/assets/intersection/time_requests_smart_intersection.png" alt="Smart interssection theory" /></td>
    </tr>
    <tr>
      <td>test</td>
    </tr>
  </tbody>
</table>

<h2 id="steps-to-creating-this">Steps to creating this</h2>

<h2 id="shortcomings">Shortcomings</h2>

<ul>
  <li>
    <p>no acceleration</p>
  </li>
  <li>
    <p>backup - leading to random choices</p>
  </li>
</ul>
:ET